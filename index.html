<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hydrozen Bottle</title>
  <!-- Tailwind Play CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Oculta scrollbar en carrusel */
    .no-scrollbar::-webkit-scrollbar{ display:none; }
    .no-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }
  </style>
</head>
<body class="bg-gradient-to-b from-sky-50 to-white text-slate-800">
  <div id="root"></div>

  <!-- React + Babel (JSX en el navegador) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useMemo, useRef, useEffect } = React;

    // ===== Datos =====
    const COLORS = [
      { id: "graphite", name: "Graphite", hex: "#4b5563" },
      { id: "glacier", name: "Glacier", hex: "#9bd5ff" },
      { id: "clear", name: "Clear", hex: "#d1d5db" },
      { id: "sage", name: "Sage", hex: "#a3c4a8" },
    ];
    const PRODUCT = {
      id: "hydrozen-bottle",
      title: "Hydrozen Bottle – Filtro Activo",
      subtitle: "Hidratación limpia, diseño minimalista",
      price: 24.9,
      compareAt: 34.9,
      capacities: ["450 ml","600 ml","750 ml"],
      bullets: [
        "Filtrado de una sola pasada para agua más limpia",
        "A prueba de fugas con apertura rápida",
        "Apta para lavavajillas (parte superior)",
        "Libre de BPA. Peso ultraligero",
      ],
      images: {
        main: "product.jpg", // súbela a la raíz del repo
        byColor: {
          graphite: "product-graphite.jpg",
          glacier: "product-glacier.jpg",
          clear: "product-clear.jpg",
          sage: "product-sage.jpg",
        }
      }
    };
    const money = (n)=> n.toLocaleString(undefined,{style:'currency', currency:'EUR'});

    function useLocalStorage(key, initial){
      const [value,setValue] = useState(()=>{
        try{ const v = localStorage.getItem(key); return v? JSON.parse(v): initial; }catch{ return initial; }
      });
      useEffect(()=>{ localStorage.setItem(key, JSON.stringify(value)); },[key,value]);
      return [value,setValue];
    }

    // ===== App =====
    function App(){
      const [route,setRoute] = useState('home');
      const [cart,setCart] = useLocalStorage('hydrozen_cart', []);
      const cartCount = useMemo(()=> cart.reduce((a,i)=>a+i.qty,0),[cart]);
      const cartTotal = useMemo(()=> cart.reduce((a,i)=>a+i.qty*i.price,0),[cart]);

      return (
        <div className="min-h-screen">
          <TopBar onNavigate={setRoute} cartCount={cartCount} />
          <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-20">
            {route==='home' && <>
              <HeroBanner onNavigate={setRoute} />
              <ProductShowcase cart={cart} setCart={setCart} />
              <Features />
              <CTA onNavigate={setRoute} />
            </>}
            {route==='cart' && <Cart cart={cart} setCart={setCart} total={cartTotal} onNavigate={setRoute} />}
            {route==='chatbot' && <Chatbot />}
            {route==='suppliers' && <Suppliers />}
            {route==='about' && <About />}
          </main>
          <Footer onNavigate={setRoute} />
          <FloatingChat onNavigate={setRoute} />
        </div>
      );
    }

    // ===== UI =====
    function TopBar({ onNavigate, cartCount }){
      return (
        <header className="fixed top-0 left-0 right-0 z-40 backdrop-blur bg-white/80 border-b border-slate-100 shadow-sm">
          <div className="max-w-7xl mx-auto flex items-center justify-between px-4 sm:px-6 lg:px-8 h-16">
            <div className="flex items-center gap-2 cursor-pointer" onClick={()=>onNavigate('home')}>
              <div className="w-9 h-9 rounded-2xl bg-sky-500 grid place-items-center shadow-sm text-white font-bold">HZ</div>
              <div>
                <div className="text-sm tracking-wide text-slate-500">Hydrozen</div>
                <div className="text-lg font-semibold -mt-1">Bottle</div>
              </div>
            </div>
            <nav className="hidden sm:flex items-center gap-6 text-sm">
              <button className="hover:text-sky-700" onClick={()=>onNavigate('home')}>Inicio</button>
              <button className="hover:text-sky-700" onClick={()=>onNavigate('about')}>Nosotros</button>
              <button className="hover:text-sky-700" onClick={()=>onNavigate('suppliers')}>Proveedores</button>
              <button className="hover:text-sky-700" onClick={()=>onNavigate('chatbot')}>Chatbot</button>
            </nav>
            <button onClick={()=>onNavigate('cart')} className="relative rounded-2xl bg-slate-900 text-white px-4 py-2 flex items-center gap-2 shadow hover:shadow-md">
              <span className="text-lg">🛒</span>Carrito
              {cartCount>0 && <span className="absolute -top-2 -right-2 bg-sky-500 text-white text-xs rounded-full px-2 py-0.5">{cartCount}</span>}
            </button>
          </div>
        </header>
      );
    }

    function HeroBanner({ onNavigate }){
      const videoRef = useRef(null);
      const [playing,setPlaying] = useState(true);
      const [muted,setMuted] = useState(true);
      const togglePlay = ()=>{ const v=videoRef.current; if(!v) return; if(v.paused){v.play();setPlaying(true);} else {v.pause();setPlaying(false);} };
      const toggleMute = ()=>{ const v=videoRef.current; if(!v) return; v.muted=!v.muted; setMuted(v.muted); };
      return (
        <section className="relative">
          <div className="relative h-[72vh] sm:h-[78vh] overflow-hidden rounded-b-[2rem]">
            <video ref={videoRef} className="absolute inset-0 w-full h-full object-cover pointer-events-none" src="hero.mp4" autoPlay muted={muted} loop playsInline></video>
            <div className="absolute inset-0 bg-gradient-to-b from-black/30 via-black/20 to-black/50 pointer-events-none"></div>
            <div className="relative z-10 h-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center">
              <div className="text-white max-w-2xl">
                <div className="inline-flex items-center gap-2 bg-white/15 backdrop-blur px-3 py-1.5 rounded-full text-xs sm:text-sm">💧 Filtrado activo · Libre de BPA</div>
                <h1 className="mt-4 text-4xl sm:text-6xl font-bold leading-[1.05]">Agua más limpia, <span className="text-sky-300">en cualquier lugar</span></h1>
                <p className="mt-3 sm:mt-4 text-sm sm:text-base text-slate-200">Presentamos <b>Hydrozen Bottle</b>: tapa a prueba de fugas, filtro integrado y diseño minimalista.</p>
                <div className="mt-6 flex flex-wrap gap-3">
                  <button onClick={()=>onNavigate('cart')} className="px-5 py-3 rounded-2xl bg-sky-500 text-white font-semibold shadow hover:shadow-md flex items-center gap-2">🛒 Comprar ahora</button>
                  <button onClick={()=>onNavigate('home')} className="px-5 py-3 rounded-2xl bg-white/10 text-white border border-white/20 hover:bg-white/15 flex items-center gap-2">ℹ️ Ver detalles</button>
                </div>
              </div>
              <div className="absolute right-4 bottom-4 flex items-center gap-2 z-20">
                <button onClick={togglePlay} className="rounded-full p-2 bg-white/90 text-slate-900 hover:bg-white">{playing? '⏸':'▶️'}</button>
                <button onClick={toggleMute} className="rounded-full p-2 bg-white/90 text-slate-900 hover:bg-white">{muted? '🔇':'🔊'}</button>
              </div>
            </div>
          </div>
        </section>
      );
    }

    function ProductShowcase({ cart, setCart }){
      const [color,setColor] = useState(COLORS[0]);
      const [capacity,setCapacity] = useState(PRODUCT.capacities[1]);
      const [qty,setQty] = useState(1);
      function addToCart(){
        const line = { id: `${PRODUCT.id}-${color.id}-${capacity}`, title: PRODUCT.title, color: color.name, capacity, price: PRODUCT.price, qty, image: PRODUCT.images.byColor[color.id] || PRODUCT.images.main };
        setCart(prev=>{
          const i = prev.findIndex(p=>p.id===line.id); if(i>=0){ const cp=[...prev]; cp[i] = { ...cp[i], qty: cp[i].qty + qty }; return cp; }
          return [...prev,line];
        });
      }
      return (
        <section id="producto" className="py-12 grid lg:grid-cols-2 gap-10 items-center">
          <div className="order-2 lg:order-1">
            <VariantCarousel color={color} setColor={setColor} />
          </div>
          <div className="order-1 lg:order-2">
            <h2 className="text-3xl sm:text-4xl font-bold tracking-tight">{PRODUCT.title}</h2>
            <p className="mt-3 text-slate-600">{PRODUCT.subtitle}</p>
            <div className="mt-6">
              <div className="text-sm font-medium">🎨 Color</div>
              <div className="mt-2 flex flex-wrap gap-2">
                {COLORS.map(c=> (
                  <button key={c.id} onClick={()=>setColor(c)} className={`px-3 py-2 rounded-xl border flex items-center gap-2 shadow-sm ${color.id===c.id? 'ring-2 ring-sky-500 border-sky-300':'border-slate-200'}`}>
                    <span className="w-4 h-4 rounded-full" style={{background:c.hex}}></span> {c.name}
                  </button>
                ))}
              </div>
            </div>
            <div className="mt-4">
              <div className="text-sm font-medium">📦 Capacidad</div>
              <div className="mt-2 flex flex-wrap gap-2">
                {PRODUCT.capacities.map(cap=> (
                  <button key={cap} onClick={()=>setCapacity(cap)} className={`px-3 py-2 rounded-xl border shadow-sm ${capacity===cap? 'ring-2 ring-sky-500 border-sky-300':'border-slate-200'}`}>{cap}</button>
                ))}
              </div>
            </div>
            <div className="mt-4 flex items-center gap-3">
              <div className="flex items-center border rounded-xl shadow-sm">
                <button className="px-3 py-2" onClick={()=>setQty(q=>Math.max(1,q-1))}>−</button>
                <div className="px-4 py-2 min-w-10 text-center font-medium">{qty}</div>
                <button className="px-3 py-2" onClick={()=>setQty(q=>q+1)}>＋</button>
              </div>
              <button onClick={addToCart} className="px-5 py-3 rounded-2xl bg-sky-600 text-white font-semibold shadow hover:shadow-md">Añadir al carrito</button>
            </div>
            <div className="mt-4 flex items-end gap-3">
              <div className="text-2xl font-semibold">{(PRODUCT.price).toLocaleString(undefined,{style:'currency',currency:'EUR'})}</div>
              <div className="text-slate-400 line-through">{(PRODUCT.compareAt).toLocaleString(undefined,{style:'currency',currency:'EUR'})}</div>
              <span className="text-xs bg-emerald-100 text-emerald-700 rounded-full px-2 py-1">Ahorra {(PRODUCT.compareAt-PRODUCT.price).toLocaleString(undefined,{style:'currency',currency:'EUR'})}</span>
            </div>
            <div className="mt-6 grid sm:grid-cols-2 gap-3">
              {PRODUCT.bullets.map(b=> (
                <div key={b} className="flex items-start gap-2">✅<p className="text-sm text-slate-700">{b}</p></div>
              ))}
            </div>
          </div>
        </section>
      );
    }

    function VariantCarousel({ color, setColor }){
      const scrollerRef = useRef(null);
      const snapTo = (i)=>{ const el=scrollerRef.current; if(!el||!el.children[i]) return; el.children[i].scrollIntoView({behavior:'smooth', inline:'center', block:'nearest'}); setColor(COLORS[i]); };
      useEffect(()=>{ const i = COLORS.findIndex(c=>c.id===color.id); if(i>=0) snapTo(i); },[color]);
      return (
        <div className="relative">
          <div className="rounded-[2rem] border bg-white shadow-sm p-3">
            <div ref={scrollerRef} className="flex gap-4 overflow-x-auto snap-x snap-mandatory scroll-smooth no-scrollbar">
              {COLORS.map((c,i)=> (
                <div key={c.id} className="shrink-0 w-[85%] sm:w-[70%] md:w-[60%] lg:w-[480px] snap-center">
                  <div className={`relative rounded-2xl overflow-hidden border ${color.id===c.id? 'ring-2 ring-sky-500 border-sky-300':'border-slate-200'}`}>
                    <img src={(PRODUCT.images.byColor[c.id]||PRODUCT.images.main)} alt={`Hydrozen ${c.name}`} className="w-full h-[360px] object-cover" />
                    <div className="absolute left-3 top-3 bg-white/85 rounded-xl px-3 py-1 text-xs flex items-center gap-2 shadow">
                      <span className="w-3 h-3 rounded-full" style={{background:c.hex}}></span> {c.name}
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>
          <div className="mt-3 flex items-center justify-center gap-2">
            {COLORS.map((c,i)=> (
              <button key={c.id} onClick={()=>snapTo(i)} className={`h-2.5 rounded-full transition-all ${c.id===color.id? 'w-6 bg-sky-600':'w-2.5 bg-slate-300'}`}></button>
            ))}
          </div>
        </div>
      );
    }

    function Features(){
      const items = [
        { t: "Filtrado de una pasada", d: "Agua más limpia sin esfuerzo, con repuestos asequibles." },
        { t: "Cero fugas", d: "Tapa de apertura rápida con cierre seguro para llevar en la mochila." },
        { t: "Libre de BPA", d: "Fabricada en Tritan™ y apta para lavavajillas." },
      ];
      return (
        <section id="caracteristicas" className="py-12 grid sm:grid-cols-3 gap-6">
          {items.map(it=> (
            <div key={it.t} className="p-6 rounded-2xl border bg-white shadow-sm">
              <h3 className="font-semibold">{it.t}</h3>
              <p className="text-sm text-slate-600 mt-2">{it.d}</p>
            </div>
          ))}
        </section>
      );
    }

    function CTA({ onNavigate }){
      return (
        <section id="comprar" className="py-16">
          <div className="rounded-[2rem] p-10 bg-gradient-to-br from-sky-100 via-emerald-50 to-white border">
            <div className="flex flex-col md:flex-row items-center gap-6 justify-between">
              <div>
                <h3 className="text-2xl font-bold">Listo para dar el salto a un agua mejor</h3>
                <p className="text-slate-700 mt-1">Envío 24/48h · Devoluciones 30 días · Pago seguro</p>
              </div>
              <button onClick={()=>onNavigate('cart')} className="px-6 py-3 rounded-2xl bg-sky-600 text-white font-semibold shadow hover:shadow-md">Comprar Hydrozen</button>
            </div>
          </div>
        </section>
      );
    }

    function Cart({ cart, setCart, onNavigate, total }){
      function updateQty(id,delta){ setCart(prev=> prev.map(i=> i.id===id? { ...i, qty: Math.max(1, i.qty+delta) }: i)); }
      function removeItem(id){ setCart(prev=> prev.filter(i=> i.id!==id)); }
      return (
        <section>
          <h2 className="text-2xl font-bold mb-6 flex items-center gap-2">🛒 Tu carrito</h2>
          {cart.length===0? (
            <div className="p-8 rounded-2xl bg-slate-50 border text-slate-700">Tu carrito está vacío. <button className="text-sky-700 font-medium" onClick={()=>onNavigate('home')}>Explorar producto</button></div>
          ):(
            <div className="grid lg:grid-cols-3 gap-6">
              <div className="lg:col-span-2 space-y-4">
                {cart.map(line=> (
                  <div key={line.id} className="flex gap-4 items-center p-4 rounded-2xl border bg-white shadow-sm">
                    <img src={line.image} className="w-24 h-24 object-cover rounded-xl"/>
                    <div className="flex-1">
                      <div className="font-medium">{line.title}</div>
                      <div className="text-sm text-slate-600">{line.capacity} · {line.color}</div>
                      <div className="text-sm text-slate-900 mt-1">{(line.price).toLocaleString(undefined,{style:'currency',currency:'EUR'})}</div>
                    </div>
                    <div className="flex items-center border rounded-xl">
                      <button className="px-3 py-2" onClick={()=>updateQty(line.id,-1)}>−</button>
                      <div className="px-4 py-2 min-w-10 text-center font-medium">{line.qty}</div>
                      <button className="px-3 py-2" onClick={()=>updateQty(line.id,1)}>＋</button>
                    </div>
                    <button className="p-2 text-slate-500 hover:text-red-600" onClick={()=>removeItem(line.id)}>🗑️</button>
                  </div>
                ))}
              </div>
              <aside className="p-5 rounded-2xl bg-slate-900 text-white shadow-lg h-fit">
                <div className="flex justify-between text-sm mb-2 opacity-90"><span>Subtotal</span><span>{(total).toLocaleString(undefined,{style:'currency',currency:'EUR'})}</span></div>
                <div className="flex justify-between text-sm mb-4 opacity-80"><span>Envío</span><span>Se calcula al finalizar</span></div>
                <div className="flex justify-between text-lg font-semibold mb-5"><span>Total</span><span>{(total).toLocaleString(undefined,{style:'currency',currency:'EUR'})}</span></div>
                <button className="w-full py-3 rounded-xl bg-sky-500 font-semibold shadow hover:shadow-md">Finalizar compra</button>
                <p className="text-xs mt-3 opacity-80">Pago seguro · Devoluciones 30 días</p>
              </aside>
            </div>
          )}
        </section>
      );
    }

    function Chatbot(){
      const [messages,setMessages] = useState([{role:'bot', text:'¡Hola! Soy el asistente Hydrozen. ¿En qué puedo ayudarte?'}]);
      const [draft,setDraft] = useState('');
      function send(){ if(!draft.trim()) return; setMessages(m=>[...m, {role:'user',text:draft}, {role:'bot',text:'Gracias por tu mensaje. Aquí iría la conexión a un chatbot real.'}]); setDraft(''); }
      return (
        <section className="grid lg:grid-cols-3 gap-6">
          <div className="lg:col-span-2 p-4 rounded-2xl border bg-white shadow-sm h-[70vh] flex flex-col">
            <div className="flex items-center gap-2 mb-3">💬 <h2 className="text-xl font-semibold">Chatbot de soporte</h2></div>
            <div className="flex-1 overflow-auto space-y-3">
              {messages.map((m,i)=> (
                <div key={i} className={`max-w-[80%] p-3 rounded-2xl ${m.role==='bot'? 'bg-slate-100':'bg-sky-100 ml-auto'}`}>
                  <p className="text-sm">{m.text}</p>
                </div>
              ))}
            </div>
            <div className="mt-3 flex gap-2">
              <input value={draft} onChange={e=>setDraft(e.target.value)} placeholder="Escribe tu mensaje..." className="flex-1 border rounded-xl px-3 py-2"/>
              <button onClick={send} className="px-4 py-2 rounded-xl bg-sky-600 text-white">Enviar</button>
            </div>
          </div>
          <aside className="p-5 rounded-2xl bg-slate-50 border">
            <h3 className="font-semibold">Temas frecuentes</h3>
            <ul className="mt-3 text-sm list-disc pl-5 space-y-1 text-slate-700">
              <li>¿Cómo funciona el filtro?</li>
              <li>Garantía y devoluciones</li>
              <li>Cuidados y limpieza</li>
              <li>Envíos y plazos</li>
            </ul>
          </aside>
        </section>
      );
    }

    function Suppliers(){
      return (
        <section className="grid lg:grid-cols-2 gap-8">
          <div>
            <h2 className="text-2xl font-bold">Distribuidores y Proveedores</h2>
            <p className="mt-2 text-slate-700">¿Quieres Hydrozen en tu catálogo o equipar a tu empresa con nuestras botellas con filtro? Déjanos tus datos y te contactaremos.</p>
            <div className="mt-6 p-5 rounded-2xl bg-slate-50 border">
              <FormSupplier />
            </div>
          </div>
          <div className="p-6 rounded-3xl bg-gradient-to-br from-sky-100 to-emerald-50 border">
            <h3 className="text-lg font-semibold">Ventajas B2B</h3>
            <ul className="mt-3 text-sm space-y-2 text-slate-700">
              <li>✔️ Precios por volumen y packs personalizables</li>
              <li>✔️ Personalización con tu logo</li>
              <li>✔️ Stock y logística a medida</li>
              <li>✔️ Soporte técnico y postventa</li>
            </ul>
          </div>
        </section>
      );
    }

    function FormSupplier(){
      return (
        <form className="grid grid-cols-1 sm:grid-cols-2 gap-3">
          <input className="border rounded-xl px-3 py-2" placeholder="Nombre"/>
          <input className="border rounded-xl px-3 py-2" placeholder="Empresa"/>
          <input className="border rounded-xl px-3 py-2 sm:col-span-2" placeholder="Email"/>
          <input className="border rounded-xl px-3 py-2 sm:col-span-2" placeholder="Teléfono"/>
          <textarea className="border rounded-xl px-3 py-2 sm:col-span-2" rows="4" placeholder="Cuéntanos qué necesitas (volumen, personalización, plazos)..."></textarea>
          <button type="button" className="mt-2 sm:col-span-2 bg-slate-900 text-white rounded-2xl px-4 py-3">Enviar solicitud</button>
        </form>
      );
    }

    function About(){
      return (
        <section className="grid lg:grid-cols-2 gap-8 items-start">
          <div>
            <h2 className="text-2xl font-bold">Nuestra misión</h2>
            <p className="mt-2 text-slate-700">En Hydrozen creemos en un mundo con menos plástico de un solo uso y más agua de calidad al alcance de todos. Diseñamos productos duraderos, minimalistas y prácticos.</p>
            <div className="mt-6 grid sm:grid-cols-2 gap-4">
              <div className="p-4 rounded-2xl border bg-white shadow-sm"><h4 className="font-semibold">Sostenibilidad</h4><p className="text-sm text-slate-700 mt-1">Materiales libres de BPA, piezas reemplazables y empaques reciclables.</p></div>
              <div className="p-4 rounded-2xl border bg-white shadow-sm"><h4 className="font-semibold">Innovación</h4><p className="text-sm text-slate-700 mt-1">Filtro activo y diseño anti-derrames para el día a día.</p></div>
            </div>
          </div>
          <div className="p-6 rounded-3xl bg-gradient-to-br from-white to-sky-50 border">
            <h3 className="font-semibold flex items-center gap-2">📧 Atención al cliente</h3>
            <p className="text-sm text-slate-700 mt-2">Escríbenos a <span className="text-sky-700 font-medium">soporte@hydrozen.com</span> o usa el chatbot para respuestas rápidas.</p>
          </div>
        </section>
      );
    }

    function Footer({ onNavigate }){
      return (
        <footer className="mt-16 border-t">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 grid sm:grid-cols-3 gap-6 text-sm">
            <div>
              <div className="font-semibold">Hydrozen</div>
              <p className="text-slate-600 mt-1">Botellas con filtro · menos plástico, más vida.</p>
            </div>
            <div className="space-y-2">
              <button onClick={()=>onNavigate('home')} className="block hover:text-sky-700">Inicio</button>
              <button onClick={()=>onNavigate('about')} className="block hover:text-sky-700">Nosotros</button>
              <button onClick={()=>onNavigate('suppliers')} className="block hover:text-sky-700">Proveedores</button>
              <button onClick={()=>onNavigate('chatbot')} className="block hover:text-sky-700">Chatbot</button>
            </div>
            <div>
              <div className="font-semibold">Legal</div>
              <p className="text-slate-500 mt-1">Términos · Privacidad · Cookies</p>
            </div>
          </div>
          <div className="text-center text-xs text-slate-500 pb-6">© {new Date().getFullYear()} Hydrozen</div>
        </footer>
      );
    }

    function FloatingChat({ onNavigate }){
      return (
        <button onClick={()=>onNavigate('chatbot')} className="fixed bottom-5 right-5 rounded-full shadow-lg bg-sky-600 text-white p-3" aria-label="Abrir chatbot">💬</button>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
  </script>
</body>
</html>
