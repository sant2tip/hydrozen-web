<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hydrozen Bottle</title>
  <!-- Tailwind Play CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .no-scrollbar::-webkit-scrollbar{ display:none; }
    .no-scrollbar{ -ms-overflow-style:none; scrollbar-width:none; }
  </style>
</head>
<body class="bg-gradient-to-b from-sky-50 to-white text-slate-800">
  <div id="root"></div>

  <!-- React + Babel (JSX en el navegador) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useMemo, useRef, useEffect } = React;

    // ===== Datos =====
    const COLORS = [
      { id: "graphite", name: "Graphite", hex: "#4b5563" },
      { id: "glacier", name: "Glacier", hex: "#9bd5ff" },
      { id: "clear", name: "Clear", hex: "#d1d5db" },
      { id: "sage", name: "Sage", hex: "#a3c4a8" },
    ];
    const PRODUCT = {
      id: "hydrozen-bottle",
      title: "Hydrozen Bottle ‚Äì Filtro Activo",
      subtitle: "Hidrataci√≥n limpia, dise√±o minimalista",
      price: 24.9,
      compareAt: 34.9,
      capacities: ["450 ml","600 ml","750 ml"],
      bullets: [
        "Filtrado de una sola pasada para agua m√°s limpia",
        "A prueba de fugas con apertura r√°pida",
        "Apta para lavavajillas (parte superior)",
        "Libre de BPA. Peso ultraligero",
      ],
      images: {
        main: "product.jpg",
        byColor: {
          graphite: "product-graphite.jpg",
          glacier: "product-glacier.jpg",
          clear: "product-clear.jpg",
          sage: "product-sage.jpg",
        }
      }
    };

    // Cat√°logo general (incluye NOVEDAD: filtros reemplazables)
    const CATALOG = [
      {
        id: "hydrozen-bottle",
        title: "Hydrozen Bottle",
        subtitle: "Botella con filtro activo",
        price: 24.9,
        compareAt: 34.9,
        image: "product.jpg",
        badge: "Top ventas"
      },
      {
        id: "filter-refill",
        title: "Filtro activo ¬∑ Repuesto",
        subtitle: "Cartucho de recambio (hasta 3 meses)",
        price: 7.9,
        compareAt: 9.9,
        image: "filtros.jpg",
        badge: "Novedad"
      }
    ];

    const money = (n)=> n.toLocaleString(undefined,{style:'currency', currency:'EUR'});

    function useLocalStorage(key, initial){
      const [value,setValue] = useState(()=>{
        try{ const v = localStorage.getItem(key); return v? JSON.parse(v): initial; }catch{ return initial; }
      });
      useEffect(()=>{ localStorage.setItem(key, JSON.stringify(value)); },[key,value]);
      return [value,setValue];
    }

    // ===== App =====
    function App(){
      const [route,setRoute] = useState('home');
      const [cart,setCart] = useLocalStorage('hydrozen_cart', []);
      const cartCount = useMemo(()=> cart.reduce((a,i)=>a+i.qty,0),[cart]);
      const cartTotal = useMemo(()=> cart.reduce((a,i)=>a+i.qty*i.price,0),[cart]);

      return (
        <div className="min-h-screen">
          <TopBar onNavigate={setRoute} cartCount={cartCount} />
          <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-20">
            {route==='home' && <>
              <HeroBanner onNavigate={setRoute} />
              <ProductShowcase cart={cart} setCart={setCart} />
              <Features />
              <CTA onNavigate={setRoute} />
            </>}
            {route==='products' && <Catalog onNavigate={setRoute} cart={cart} setCart={setCart} />}
            {route==='cart' && <Cart cart={cart} setCart={setCart} total={cartTotal} onNavigate={setRoute} />}
            {route==='checkout' && <Checkout cart={cart} setCart={setCart} total={cartTotal} onNavigate={setRoute} />}
            {route==='chatbot' && <Chatbot />}
            {route==='suppliers' && <Suppliers />}
            {route==='about' && <About />}
          </main>
          <Footer onNavigate={setRoute} />
          <FloatingChat onNavigate={setRoute} />
        </div>
      );
    }

    // ===== UI =====
    function TopBar({ onNavigate, cartCount }){
      return (
        <header className="fixed top-0 left-0 right-0 z-40 backdrop-blur bg-white/80 border-b border-slate-100 shadow-sm">
          <div className="max-w-7xl mx-auto flex items-center justify-between px-4 sm:px-6 lg:px-8 h-16">
            <div className="flex items-center gap-2 cursor-pointer" onClick={()=>onNavigate('home')}>
              <div className="w-9 h-9 rounded-2xl bg-sky-500 grid place-items-center shadow-sm text-white font-bold">HZ</div>
              <div>
                <div className="text-sm tracking-wide text-slate-500">Hydrozen</div>
                <div className="text-lg font-semibold -mt-1">Bottle</div>
              </div>
            </div>
            <nav className="hidden sm:flex items-center gap-6 text-sm">
              <button className="hover:text-sky-700" onClick={()=>onNavigate('home')}>Inicio</button>
              <button className="hover:text-sky-700" onClick={()=>onNavigate('products')}>Productos</button>
              <button className="hover:text-sky-700" onClick={()=>onNavigate('about')}>Nosotros</button>
              <button className="hover:text-sky-700" onClick={()=>onNavigate('suppliers')}>Proveedores</button>
              <button className="hover:text-sky-700" onClick={()=>onNavigate('chatbot')}>Chatbot</button>
            </nav>
            <button onClick={()=>onNavigate('cart')} className="relative rounded-2xl bg-slate-900 text-white px-4 py-2 flex items-center gap-2 shadow hover:shadow-md">
              <span className="text-lg">üõí</span>Carrito
              {cartCount>0 && <span className="absolute -top-2 -right-2 bg-sky-500 text-white text-xs rounded-full px-2 py-0.5">{cartCount}</span>}
            </button>
          </div>
        </header>
      );
    }

    function HeroBanner({ onNavigate }){
      const videoRef = useRef(null);
      const [playing,setPlaying] = useState(true);
      const [muted,setMuted] = useState(true);
      const togglePlay = ()=>{ const v=videoRef.current; if(!v) return; if(v.paused){v.play();setPlaying(true);} else {v.pause();setPlaying(false);} };
      const toggleMute = ()=>{ const v=videoRef.current; if(!v) return; v.muted=!v.muted; setMuted(v.muted); };
      return (
        <section className="relative">
          <div className="relative h-[72vh] sm:h-[78vh] overflow-hidden rounded-b-[2rem]">
            <video ref={videoRef} className="absolute inset-0 w-full h-full object-cover pointer-events-none" src="hero.mp4" autoPlay muted={muted} loop playsInline></video>
            <div className="absolute inset-0 bg-gradient-to-b from-black/30 via-black/20 to-black/50 pointer-events-none"></div>
            <div className="relative z-10 h-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center">
              <div className="text-white max-w-2xl">
                <div className="inline-flex items-center gap-2 bg-white/15 backdrop-blur px-3 py-1.5 rounded-full text-xs sm:text-sm">üíß Filtrado activo ¬∑ Libre de BPA</div>
                <h1 className="mt-4 text-4xl sm:text-6xl font-bold leading-[1.05]">Agua m√°s limpia, <span className="text-sky-300">en cualquier lugar</span></h1>
                <p className="mt-3 sm:mt-4 text-sm sm:text-base text-slate-200">Presentamos <b>Hydrozen Bottle</b>: tapa a prueba de fugas, filtro integrado y dise√±o minimalista.</p>
                <div className="mt-6 flex flex-wrap gap-3">
                  <button onClick={()=>onNavigate('products')} className="px-5 py-3 rounded-2xl bg-sky-500 text-white font-semibold shadow hover:shadow-md">Ver productos</button>
                  <button onClick={()=>onNavigate('cart')} className="px-5 py-3 rounded-2xl bg-white/10 text-white border border-white/20 hover:bg-white/15">Comprar ahora</button>
                </div>
              </div>
              <div className="absolute right-4 bottom-4 flex items-center gap-2 z-20">
                <button onClick={togglePlay} className="rounded-full p-2 bg-white/90 text-slate-900 hover:bg-white">{playing? '‚è∏':'‚ñ∂Ô∏è'}</button>
                <button onClick={toggleMute} className="rounded-full p-2 bg-white/90 text-slate-900 hover:bg-white">{muted? 'üîá':'üîä'}</button>
              </div>
            </div>
          </div>
        </section>
      );
    }

    function ProductShowcase({ cart, setCart }){
      const [color,setColor] = useState(COLORS[0]);
      const [capacity,setCapacity] = useState(PRODUCT.capacities[1]);
      const [qty,setQty] = useState(1);
      function addToCart(){
        const line = { id: `${PRODUCT.id}-${color.id}-${capacity}`, title: PRODUCT.title, color: color.name, capacity, price: PRODUCT.price, qty, image: PRODUCT.images.byColor[color.id] || PRODUCT.images.main };
        setCart(prev=>{
          const i = prev.findIndex(p=>p.id===line.id); if(i>=0){ const cp=[...prev]; cp[i] = { ...cp[i], qty: cp[i].qty + qty }; return cp; }
          return [...prev,line];
        });
      }
      return (
        <section id="producto" className="py-12 grid lg:grid-cols-2 gap-10 items-center">
          <div className="order-2 lg:order-1">
            <VariantCarousel color={color} setColor={setColor} />
          </div>
          <div className="order-1 lg:order-2">
            <h2 className="text-3xl sm:text-4xl font-bold tracking-tight">{PRODUCT.title}</h2>
            <p className="mt-3 text-slate-600">{PRODUCT.subtitle}</p>
            <div className="mt-6">
              <div className="text-sm font-medium">üé® Color</div>
              <div className="mt-2 flex flex-wrap gap-2">
                {COLORS.map(c=> (
                  <button key={c.id} onClick={()=>setColor(c)} className={`px-3 py-2 rounded-xl border flex items-center gap-2 shadow-sm ${color.id===c.id? 'ring-2 ring-sky-500 border-sky-300':'border-slate-200'}`}>
                    <span className="w-4 h-4 rounded-full" style={{background:c.hex}}></span> {c.name}
                  </button>
                ))}
              </div>
            </div>
            <div className="mt-4">
              <div className="text-sm font-medium">üì¶ Capacidad</div>
              <div className="mt-2 flex flex-wrap gap-2">
                {PRODUCT.capacities.map(cap=> (
                  <button key={cap} onClick={()=>setCapacity(cap)} className={`px-3 py-2 rounded-xl border shadow-sm ${capacity===cap? 'ring-2 ring-sky-500 border-sky-300':'border-slate-200'}`}>{cap}</button>
                ))}
              </div>
            </div>
            <div className="mt-4 flex items-center gap-3">
              <div className="flex items-center border rounded-xl shadow-sm">
                <button className="px-3 py-2" onClick={()=>setQty(q=>Math.max(1,q-1))}>‚àí</button>
                <div className="px-4 py-2 min-w-10 text-center font-medium">{qty}</div>
                <button className="px-3 py-2" onClick={()=>setQty(q=>q+1)}>Ôºã</button>
              </div>
              <button onClick={addToCart} className="px-5 py-3 rounded-2xl bg-sky-600 text-white font-semibold shadow hover:shadow-md">A√±adir al carrito</button>
            </div>
            <div className="mt-4 flex items-end gap-3">
              <div className="text-2xl font-semibold">{money(PRODUCT.price)}</div>
              <div className="text-slate-400 line-through">{money(PRODUCT.compareAt)}</div>
              <span className="text-xs bg-emerald-100 text-emerald-700 rounded-full px-2 py-1">Ahorra {money(PRODUCT.compareAt-PRODUCT.price)}</span>
            </div>
            <div className="mt-6 grid sm:grid-cols-2 gap-3">
              {PRODUCT.bullets.map(b=> (
                <div key={b} className="flex items-start gap-2">‚úÖ<p className="text-sm text-slate-700">{b}</p></div>
              ))}
            </div>
          </div>
        </section>
      );
    }

    function VariantCarousel({ color, setColor }){
      const scrollerRef = useRef(null);
      const snapTo = (i)=>{ const el=scrollerRef.current; if(!el||!el.children[i]) return; el.children[i].scrollIntoView({behavior:'smooth', inline:'center', block:'nearest'}); setColor(COLORS[i]); };
      useEffect(()=>{ const i = COLORS.findIndex(c=>c.id===color.id); if(i>=0) snapTo(i); },[color]);
      return (
        <div className="relative">
          <div className="rounded-[2rem] border bg-white shadow-sm p-3">
            <div ref={scrollerRef} className="flex gap-4 overflow-x-auto snap-x snap-mandatory scroll-smooth no-scrollbar">
              {COLORS.map((c,i)=> (
                <div key={c.id} className="shrink-0 w-[85%] sm:w-[70%] md:w-[60%] lg:w-[480px] snap-center">
                  <div className={`relative rounded-2xl overflow-hidden border ${color.id===c.id? 'ring-2 ring-sky-500 border-sky-300':'border-slate-200'}`}>
                    <img src={(PRODUCT.images.byColor[c.id]||PRODUCT.images.main)} alt={`Hydrozen ${c.name}`} className="w-full h-[360px] object-cover" />
                    <div className="absolute left-3 top-3 bg-white/85 rounded-xl px-3 py-1 text-xs flex items-center gap-2 shadow">
                      <span className="w-3 h-3 rounded-full" style={{background:c.hex}}></span> {c.name}
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>
          <div className="mt-3 flex items-center justify-center gap-2">
            {COLORS.map((c,i)=> (
              <button key={c.id} onClick={()=>snapTo(i)} className={`h-2.5 rounded-full transition-all ${c.id===color.id? 'w-6 bg-sky-600':'w-2.5 bg-slate-300'}`}></button>
            ))}
          </div>
        </div>
      );
    }

    // ===== NUEVA SUBP√ÅGINA: Cat√°logo =====
    function Catalog({ onNavigate, cart, setCart }){
      function addProduct(p){
        const line = { id: `${p.id}`, title: p.title, color: p.title.includes('Filtro')? '‚Äî' : 'Graphite', capacity: p.title.includes('Filtro')? 'Repuesto' : '600 ml', price: p.price, qty: 1, image: p.image };
        setCart(prev=>{ const i = prev.findIndex(x=>x.id===line.id); if(i>=0){ const cp=[...prev]; cp[i] = { ...cp[i], qty: cp[i].qty + 1 }; return cp;} return [...prev, line]; });
      }
      return (
        <section className="py-6">
          <div className="flex items-end justify-between gap-4 mb-6">
            <div>
              <h2 className="text-2xl font-bold">Nuestros productos</h2>
              <p className="text-slate-600">Descubre la botella Hydrozen y los <span className="font-medium text-emerald-700">nuevos filtros reemplazables</span>.</p>
            </div>
            <button onClick={()=>onNavigate('cart')} className="px-4 py-2 rounded-2xl bg-slate-900 text-white">Ver carrito</button>
          </div>

          <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {CATALOG.map(p=> (
              <article key={p.id} className="group rounded-2xl border bg-white shadow-sm overflow-hidden flex flex-col">
                <div className="relative">
                  <img src={p.image} alt={p.title} className="w-full h-56 object-cover group-hover:scale-[1.02] transition" />
                  {p.badge && (
                    <span className={`absolute left-3 top-3 text-xs font-medium px-2 py-1 rounded-full ${p.badge==='Novedad'? 'bg-emerald-100 text-emerald-700':'bg-sky-100 text-sky-700'}`}>{p.badge}</span>
                  )}
                </div>
                <div className="p-4 flex-1 flex flex-col">
                  <h3 className="font-semibold leading-tight">{p.title}</h3>
                  <p className="text-sm text-slate-600 mt-1 flex-1">{p.subtitle}</p>
                  <div className="mt-3 flex items-baseline gap-2">
                    <div className="text-lg font-semibold">{money(p.price)}</div>
                    {p.compareAt && <div className="text-slate-400 line-through text-sm">{money(p.compareAt)}</div>}
                  </div>
                  <div className="mt-4 flex gap-2">
                    <button onClick={()=>addProduct(p)} className="flex-1 px-4 py-2 rounded-xl bg-sky-600 text-white">A√±adir</button>
                    <button onClick={()=>onNavigate('cart')} className="px-4 py-2 rounded-xl border">Carrito</button>
                  </div>
                </div>
              </article>
            ))}
          </div>
        </section>
      );
    }

    function Features(){
      const items = [
        { t: "Filtrado de una pasada", d: "Agua m√°s limpia sin esfuerzo, con repuestos asequibles." },
        { t: "Cero fugas", d: "Tapa de apertura r√°pida con cierre seguro para llevar en la mochila." },
        { t: "Libre de BPA", d: "Fabricada en Tritan‚Ñ¢ y apta para lavavajillas." },
      ];
      return (
        <section id="caracteristicas" className="py-12 grid sm:grid-cols-3 gap-6">
          {items.map(it=> (
            <div key={it.t} className="p-6 rounded-2xl border bg-white shadow-sm">
              <h3 className="font-semibold">{it.t}</h3>
              <p className="text-sm text-slate-600 mt-2">{it.d}</p>
            </div>
          ))}
        </section>
      );
    }

    function CTA({ onNavigate }){
      return (
        <section id="comprar" className="py-16">
          <div className="rounded-[2rem] p-10 bg-gradient-to-br from-sky-100 via-emerald-50 to-white border">
            <div className="flex flex-col md:flex-row items-center gap-6 justify-between">
              <div>
                <h3 className="text-2xl font-bold">Listo para dar el salto a un agua mejor</h3>
                <p className="text-slate-700 mt-1">Env√≠o 24/48h ¬∑ Devoluciones 30 d√≠as ¬∑ Pago seguro</p>
              </div>
              <div className="flex gap-3">
                <button onClick={()=>onNavigate('products')} className="px-6 py-3 rounded-2xl bg-slate-100">Ver productos</button>
                <button onClick={()=>onNavigate('cart')} className="px-6 py-3 rounded-2xl bg-sky-600 text-white font-semibold shadow hover:shadow-md">Comprar Hydrozen</button>
              </div>
            </div>
          </div>
        </section>
      );
    }

    function Cart({ cart, setCart, onNavigate, total }){
      function updateQty(id,delta){ setCart(prev=> prev.map(i=> i.id===id? { ...i, qty: Math.max(1, i.qty+delta) }: i)); }
      function removeItem(id){ setCart(prev=> prev.filter(i=> i.id!==id)); }
      return (
        <section>
          <h2 className="text-2xl font-bold mb-6 flex items-center gap-2">üõí Tu carrito</h2>
          {cart.length===0? (
            <div className="p-8 rounded-2xl bg-slate-50 border text-slate-700">Tu carrito est√° vac√≠o. <button className="text-sky-700 font-medium" onClick={()=>onNavigate('products')}>Ir a productos</button></div>
          ):(
            <div className="grid lg:grid-cols-3 gap-6">
              <div className="lg:col-span-2 space-y-4">
                {cart.map(line=> (
                  <div key={line.id} className="flex gap-4 items-center p-4 rounded-2xl border bg-white shadow-sm">
                    <img src={line.image} className="w-24 h-24 object-cover rounded-xl"/>
                    <div className="flex-1">
                      <div className="font-medium">{line.title}</div>
                      <div className="text-sm text-slate-600">{line.capacity} ¬∑ {line.color}</div>
                      <div className="text-sm text-slate-900 mt-1">{money(line.price)}</div>
                    </div>
                    <div className="flex items-center border rounded-xl">
                      <button className="px-3 py-2" onClick={()=>updateQty(line.id,-1)}>‚àí</button>
                      <div className="px-4 py-2 min-w-10 text-center font-medium">{line.qty}</div>
                      <button className="px-3 py-2" onClick={()=>updateQty(line.id,1)}>Ôºã</button>
                    </div>
                    <button className="p-2 text-slate-500 hover:text-red-600" onClick={()=>removeItem(line.id)}>üóëÔ∏è</button>
                  </div>
                ))}
              </div>
              <aside className="p-5 rounded-2xl bg-slate-900 text-white shadow-lg h-fit">
                <div className="flex justify-between text-sm mb-2 opacity-90"><span>Subtotal</span><span>{money(total)}</span></div>
                <div className="flex justify-between text-sm mb-4 opacity-80"><span>Env√≠o</span><span>Se calcula al finalizar</span></div>
                <div className="flex justify-between text-lg font-semibold mb-5"><span>Total</span><span>{money(total)}</span></div>
                <button onClick={()=>onNavigate('checkout')} className="w-full py-3 rounded-xl bg-sky-500 font-semibold shadow hover:shadow-md">Continuar al pago</button>
                <p className="text-xs mt-3 opacity-80">Pago seguro ¬∑ Devoluciones 30 d√≠as</p>
              </aside>
            </div>
          )}
        </section>
      );
    }

    function Checkout({ cart, total, onNavigate, setCart }){
      const [form, setForm] = useState({
        name: "", email: "", phone: "",
        address: "", city: "", province: "", postal: "", country: "",
        cardNumber: "", cardName: "", exp: "", cvc: "",
      });
      const [shipping, setShipping] = useState("standard");
      const [placed, setPlaced] = useState(false);
      const [errors, setErrors] = useState({});

      const shippingCost = shipping === "express" ? 4.9 : 0;
      const orderTotal = (total || 0) + shippingCost;

      const handleChange = (e) => setForm(f => ({ ...f, [e.target.name]: e.target.value }));

      function validate(){
        const errs={};
        if(!form.name.trim()) errs.name="Requerido";
        if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(form.email)) errs.email="Email no v√°lido";
        if(!form.address.trim()) errs.address="Requerido";
        if(!form.city.trim()) errs.city="Requerido";
        if(!form.postal.trim()) errs.postal="Requerido";
        if(!form.country.trim()) errs.country="Requerido";
        if(!form.cardNumber || form.cardNumber.replace(/\s/g,"").length<12) errs.cardNumber="N√∫mero inv√°lido";
        if(!form.cardName.trim()) errs.cardName="Requerido";
        if(!form.exp.trim()) errs.exp="MM/AA";
        if(!form.cvc || form.cvc.length<3) errs.cvc="CVC inv√°lido";
        setErrors(errs); return Object.keys(errs).length===0;
      }

      function placeOrder(e){
        e.preventDefault();
        if(!validate()) return;
        setPlaced(true);
        setCart([]);
      }

      if(placed){
        return (
          <section className="p-6 rounded-2xl bg-white border shadow-sm text-center">
            <div className="text-3xl mb-2">‚úÖ</div>
            <h2 className="text-2xl font-bold">¬°Pedido confirmado!</h2>
            <p className="text-slate-700 mt-2">Te hemos enviado un email con los detalles del pedido.</p>
            <div className="mt-6 flex gap-3 justify-center">
              <button onClick={()=>onNavigate('home')} className="px-5 py-3 rounded-2xl bg-slate-900 text-white">Volver al inicio</button>
              <button onClick={()=>onNavigate('products')} className="px-5 py-3 rounded-2xl bg-slate-100">Seguir comprando</button>
            </div>
          </section>
        );
      }

      return (
        <section className="grid lg:grid-cols-3 gap-6">
          <div className="lg:col-span-2 p-6 rounded-2xl border bg-white shadow-sm">
            <div className="flex items-center gap-2 mb-4">üí≥ <h2 className="text-xl font-semibold">Datos para finalizar compra</h2></div>
            <form onSubmit={placeOrder} className="grid grid-cols-1 sm:grid-cols-2 gap-3">
              <div className="sm:col-span-2 text-sm text-slate-600">Tus datos est√°n protegidos. Este es un ejemplo sin procesamiento real de pagos.</div>

              <label className="text-sm">Nombre completo<input name="name" value={form.name} onChange={handleChange} className="mt-1 w-full border rounded-xl px-3 py-2" />{errors.name && <div className="text-xs text-red-600 mt-1">{errors.name}</div>}</label>
              <label className="text-sm">Email<input name="email" value={form.email} onChange={handleChange} className="mt-1 w-full border rounded-xl px-3 py-2" />{errors.email && <div className="text-xs text-red-600 mt-1">{errors.email}</div>}</label>
              <label className="text-sm">Tel√©fono<input name="phone" value={form.phone} onChange={handleChange} className="mt-1 w-full border rounded-xl px-3 py-2" /></label>
              <label className="text-sm sm:col-span-2">Direcci√≥n<input name="address" value={form.address} onChange={handleChange} className="mt-1 w-full border rounded-xl px-3 py-2" />{errors.address && <div className="text-xs text-red-600 mt-1">{errors.address}</div>}</label>
              <label className="text-sm">Ciudad<input name="city" value={form.city} onChange={handleChange} className="mt-1 w-full border rounded-xl px-3 py-2" />{errors.city && <div className="text-xs text-red-600 mt-1">{errors.city}</div>}</label>
              <label className="text-sm">Provincia<input name="province" value={form.province} onChange={handleChange} className="mt-1 w-full border rounded-xl px-3 py-2" /></label>
              <label className="text-sm">C√≥digo postal<input name="postal" value={form.postal} onChange={handleChange} className="mt-1 w-full border rounded-xl px-3 py-2" />{errors.postal && <div className="text-xs text-red-600 mt-1">{errors.postal}</div>}</label>
              <label className="text-sm">Pa√≠s<input name="country" value={form.country} onChange={handleChange} className="mt-1 w-full border rounded-xl px-3 py-2" />{errors.country && <div className="text-xs text-red-600 mt-1">{errors.country}</div>}</label>

              <div className="sm:col-span-2 mt-2">
                <div className="text-sm font-medium mb-2">üöö Env√≠o</div>
                <div className="grid sm:grid-cols-2 gap-3">
                  <label className={`flex items-center gap-2 border rounded-xl p-3 cursor-pointer ${shipping === 'standard' ? 'ring-2 ring-sky-500 border-sky-300' : 'border-slate-200'}`}>
                    <input type="radio" name="ship" className="accent-sky-600" checked={shipping === 'standard'} onChange={()=>setShipping('standard')} />
                    Est√°ndar (3-5 d√≠as) ‚Äî Gratis
                  </label>
                  <label className={`flex items-center gap-2 border rounded-xl p-3 cursor-pointer ${shipping === 'express' ? 'ring-2 ring-sky-500 border-sky-300' : 'border-slate-200'}`}>
                    <input type="radio" name="ship" className="accent-sky-600" checked={shipping === 'express'} onChange={()=>setShipping('express')} />
                    Express 24/48h ‚Äî 4,90 ‚Ç¨
                  </label>
                </div>
              </div>

              <div className="sm:col-span-2 mt-2">
                <div className="text-sm font-medium mb-2">üí≥ Pago con tarjeta (demo)</div>
                <div className="grid sm:grid-cols-2 gap-3">
                  <label className="text-sm">N√∫mero de tarjeta<input name="cardNumber" value={form.cardNumber} onChange={handleChange} placeholder="0000 0000 0000 0000" className="mt-1 w-full border rounded-xl px-3 py-2" />{errors.cardNumber && <div className="text-xs text-red-600 mt-1">{errors.cardNumber}</div>}</label>
                  <label className="text-sm">Nombre en la tarjeta<input name="cardName" value={form.cardName} onChange={handleChange} className="mt-1 w-full border rounded-xl px-3 py-2" />{errors.cardName && <div className="text-xs text-red-600 mt-1">{errors.cardName}</div>}</label>
                  <label className="text-sm">Expiraci√≥n (MM/AA)<input name="exp" value={form.exp} onChange={handleChange} placeholder="12/28" className="mt-1 w-full border rounded-xl px-3 py-2" />{errors.exp && <div className="text-xs text-red-600 mt-1">{errors.exp}</div>}</label>
                  <label className="text-sm">CVC<input name="cvc" value={form.cvc} onChange={handleChange} placeholder="123" className="mt-1 w-full border rounded-xl px-3 py-2" />{errors.cvc && <div className="text-xs text-red-600 mt-1">{errors.cvc}</div>}</label>
                </div>
              </div>

              <div className="sm:col-span-2 mt-4 flex gap-3">
                <button type="button" onClick={()=>onNavigate('cart')} className="px-5 py-3 rounded-2xl bg-slate-100">Volver al carrito</button>
                <button type="submit" className="px-5 py-3 rounded-2xl bg-slate-900 text-white">Pagar y finalizar</button>
              </div>
            </form>
          </div>

          <aside className="p-6 rounded-2xl bg-slate-50 border h-fit">
            <h3 className="font-semibold mb-3 flex items-center gap-2">üõí Resumen del pedido</h3>
            <div className="space-y-3">
              {cart.length === 0 ? (
                <div className="text-sm text-slate-600">Tu carrito est√° vac√≠o.</div>
              ) : (
                cart.map((line) => (
                  <div key={line.id} className="flex items-center gap-3">
                    <img src={line.image} alt="item" className="w-12 h-12 rounded-lg object-cover" />
                    <div className="flex-1 text-sm">
                      <div className="font-medium">{line.title}</div>
                      <div className="text-slate-600">{line.capacity} ¬∑ {line.color}</div>
                    </div>
                    <div className="text-sm">x{line.qty}</div>
                  </div>
                ))
              )}
            </div>
            <div className="mt-4 border-t pt-4 space-y-1 text-sm">
              <div className="flex justify-between"><span>Subtotal</span><span>{money(total || 0)}</span></div>
              <div className="flex justify-between"><span>Env√≠o</span><span>{shippingCost === 0 ? 'Gratis' : money(shippingCost)}</span></div>
              <div className="flex justify-between font-semibold text-base mt-1"><span>Total</span><span>{money((total || 0) + shippingCost)}</span></div>
            </div>
          </aside>
        </section>
      );
    }

    function Chatbot(){
      const [messages,setMessages] = useState([{role:'bot', text:'¬°Hola! Soy el asistente Hydrozen. ¬øEn qu√© puedo ayudarte?'}]);
      const [draft,setDraft] = useState('');
      function send(){ if(!draft.trim()) return; setMessages(m=>[...m, {role:'user',text:draft}, {role:'bot',text:'Gracias por tu mensaje. Aqu√≠ ir√≠a la conexi√≥n a un chatbot real.'}]); setDraft(''); }
      return (
        <section className="grid lg:grid-cols-3 gap-6">
          <div className="lg:col-span-2 p-4 rounded-2xl border bg-white shadow-sm h-[70vh] flex flex-col">
            <div className="flex items-center gap-2 mb-3">üí¨ <h2 className="text-xl font-semibold">Chatbot de soporte</h2></div>
            <div className="flex-1 overflow-auto space-y-3">
              {messages.map((m,i)=> (
                <div key={i} className={`max-w-[80%] p-3 rounded-2xl ${m.role==='bot'? 'bg-slate-100':'bg-sky-100 ml-auto'}`}>
                  <p className="text-sm">{m.text}</p>
                </div>
              ))}
            </div>
            <div className="mt-3 flex gap-2">
              <input value={draft} onChange={e=>setDraft(e.target.value)} placeholder="Escribe tu mensaje..." className="flex-1 border rounded-xl px-3 py-2"/>
              <button onClick={send} className="px-4 py-2 rounded-xl bg-sky-600 text-white">Enviar</button>
            </div>
          </div>
          <aside className="p-5 rounded-2xl bg-slate-50 border">
            <h3 className="font-semibold">Temas frecuentes</h3>
            <ul className="mt-3 text-sm list-disc pl-5 space-y-1 text-slate-700">
              <li>¬øC√≥mo funciona el filtro?</li>
              <li>Garant√≠a y devoluciones</li>
              <li>Cuidados y limpieza</li>
              <li>Env√≠os y plazos</li>
            </ul>
          </aside>
        </section>
      );
    }

    function Suppliers(){
      return (
        <section className="grid lg:grid-cols-2 gap-8">
          <div>
            <h2 className="text-2xl font-bold">Distribuidores y Proveedores</h2>
            <p className="mt-2 text-slate-700">¬øQuieres Hydrozen en tu cat√°logo o equipar a tu empresa con nuestras botellas con filtro? D√©janos tus datos y te contactaremos.</p>
            <div className="mt-6 p-5 rounded-2xl bg-slate-50 border">
              <FormSupplier />
            </div>
          </div>
          <div className="p-6 rounded-3xl bg-gradient-to-br from-sky-100 to-emerald-50 border">
            <h3 className="text-lg font-semibold">Ventajas B2B</h3>
            <ul className="mt-3 text-sm space-y-2 text-slate-700">
              <li>‚úîÔ∏è Precios por volumen y packs personalizables</li>
              <li>‚úîÔ∏è Personalizaci√≥n con tu logo</li>
              <li>‚úîÔ∏è Stock y log√≠stica a medida</li>
              <li>‚úîÔ∏è Soporte t√©cnico y postventa</li>
            </ul>
          </div>
        </section>
      );
    }

    function FormSupplier(){
      return (
        <form className="grid grid-cols-1 sm:grid-cols-2 gap-3">
          <input className="border rounded-xl px-3 py-2" placeholder="Nombre"/>
          <input className="border rounded-xl px-3 py-2" placeholder="Empresa"/>
          <input className="border rounded-xl px-3 py-2 sm:col-span-2" placeholder="Email"/>
          <input className="border rounded-xl px-3 py-2 sm:col-span-2" placeholder="Tel√©fono"/>
          <textarea className="border rounded-xl px-3 py-2 sm:col-span-2" rows="4" placeholder="Cu√©ntanos qu√© necesitas (volumen, personalizaci√≥n, plazos)..."></textarea>
          <button type="button" className="mt-2 sm:col-span-2 bg-slate-900 text-white rounded-2xl px-4 py-3">Enviar solicitud</button>
        </form>
      );
    }

    function About(){
      return (
        <section className="grid lg:grid-cols-2 gap-8 items-start">
          <div>
            <h2 className="text-2xl font-bold">Nuestra misi√≥n</h2>
            <p className="mt-2 text-slate-700">En Hydrozen creemos en un mundo con menos pl√°stico de un solo uso y m√°s agua de calidad al alcance de todos. Dise√±amos productos duraderos, minimalistas y pr√°cticos.</p>
            <div className="mt-6 grid sm:grid-cols-2 gap-4">
              <div className="p-4 rounded-2xl border bg-white shadow-sm"><h4 className="font-semibold">Sostenibilidad</h4><p className="text-sm text-slate-700 mt-1">Materiales libres de BPA, piezas reemplazables y empaques reciclables.</p></div>
              <div className="p-4 rounded-2xl border bg-white shadow-sm"><h4 className="font-semibold">Innovaci√≥n</h4><p className="text-sm text-slate-700 mt-1">Filtro activo y dise√±o anti-derrames para el d√≠a a d√≠a.</p></div>
            </div>
          </div>
          <div className="p-6 rounded-3xl bg-gradient-to-br from-white to-sky-50 border">
            <h3 className="font-semibold flex items-center gap-2">üìß Atenci√≥n al cliente</h3>
            <p className="text-sm text-slate-700 mt-2">Escr√≠benos a <span className="text-sky-700 font-medium">soporte@hydrozen.com</span> o usa el chatbot para respuestas r√°pidas.</p>
          </div>
        </section>
      );
    }

    function Footer({ onNavigate }){
      return (
        <footer className="mt-16 border-t">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 grid sm:grid-cols-3 gap-6 text-sm">
            <div>
              <div className="font-semibold">Hydrozen</div>
              <p className="text-slate-600 mt-1">Botellas con filtro ¬∑ menos pl√°stico, m√°s vida.</p>
            </div>
            <div className="space-y-2">
              <button onClick={()=>onNavigate('home')} className="block hover:text-sky-700">Inicio</button>
              <button onClick={()=>onNavigate('products')} className="block hover:text-sky-700">Productos</button>
              <button onClick={()=>onNavigate('about')} className="block hover:text-sky-700">Nosotros</button>
              <button onClick={()=>onNavigate('suppliers')} className="block hover:text-sky-700">Proveedores</button>
              <button onClick={()=>onNavigate('chatbot')} className="block hover:text-sky-700">Chatbot</button>
            </div>
            <div>
              <div className="font-semibold">Legal</div>
              <p className="text-slate-500 mt-1">T√©rminos ¬∑ Privacidad ¬∑ Cookies</p>
            </div>
          </div>
          <div className="text-center text-xs text-slate-500 pb-6">¬© {new Date().getFullYear()} Hydrozen</div>
        </footer>
      );
    }

    function FloatingChat({ onNavigate }){
      return (
        <button onClick={()=>onNavigate('chatbot')} className="fixed bottom-5 right-5 rounded-full shadow-lg bg-sky-600 text-white p-3" aria-label="Abrir chatbot">üí¨</button>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
  </script>
</body>
</html>




